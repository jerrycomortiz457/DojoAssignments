<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Promise</title>
</head>

<body>
    <script>
        //simulated really slow DB call.
        function getStuffFromDatabase(callback) {
            var data;
            var myTimer = setTimeout(function() {
                if (typeof(callback) == 'function') {
                    data = [{
                        name: 'Todd'
                    }, {
                        name: 'Michael'
                    }, {
                        name: 'Portia'
                    }];
                    callback(data);
                }
            }, 10000);
            return data;
        }
        // ************CHANGES HERE **************
        function requestDataFromDatabase() {
            var data = getStuffFromDatabase(function myCallback(data) { // ooh shiny callback!.. when is it invoked???
                console.log(data, "ASynchronous");
                for (var i = 0; i < data.length; i++) {
                    console.log(data[i].name);
                }
            });
            console.log(data, "Synchronous");
        }
        //***************** END CHANGES **********************
        function catchFly() {
            console.log('I just caught a fly!');
        }
        requestDataFromDatabase();
        // keep running my program!
        console.log('Hello');
        catchFly();
        //etc.

        // var friends = ["Mike", "Stacy", "Andy", "Rick"];
        // friends.forEach(function (eachName, index){
        // console.log(index + 1 + ". " + eachName); // 1. Mike, 2. Stacy, 3. Andy, 4. Rickâ€‹
        // });
    </script>
</body>

</html>